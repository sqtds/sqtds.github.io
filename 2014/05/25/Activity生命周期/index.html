<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>理解Android Activity | 蜻蜓点水</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="每一个Activity都表示一个屏幕，应用程序会把它呈现给用户。应用程序越复杂，需要的屏幕可能越多。
典型情况下，这至少包括一个用来处理应用程序的主ui功能的主屏幕。这个主界面由许多fragment组成，并且通常由一组次要Activity支持。要在屏幕之间进行切换，就要启动一个新的Activity。
Activity的生存周期1.activity栈每一个Activity的状态是由它所在Activi">
<meta property="og:type" content="article">
<meta property="og:title" content="理解Android Activity">
<meta property="og:url" content="http://sqtds.github.io/2014/05/25/Activity生命周期/index.html">
<meta property="og:site_name" content="蜻蜓点水">
<meta property="og:description" content="每一个Activity都表示一个屏幕，应用程序会把它呈现给用户。应用程序越复杂，需要的屏幕可能越多。
典型情况下，这至少包括一个用来处理应用程序的主ui功能的主屏幕。这个主界面由许多fragment组成，并且通常由一组次要Activity支持。要在屏幕之间进行切换，就要启动一个新的Activity。
Activity的生存周期1.activity栈每一个Activity的状态是由它所在Activi">
<meta property="og:image" content="/img/3-7.PNG">
<meta property="og:image" content="/img/2012120122450787.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="理解Android Activity">
<meta name="twitter:description" content="每一个Activity都表示一个屏幕，应用程序会把它呈现给用户。应用程序越复杂，需要的屏幕可能越多。
典型情况下，这至少包括一个用来处理应用程序的主ui功能的主屏幕。这个主界面由许多fragment组成，并且通常由一组次要Activity支持。要在屏幕之间进行切换，就要启动一个新的Activity。
Activity的生存周期1.activity栈每一个Activity的状态是由它所在Activi">
  
    <link rel="alternative" href="/atom.xml" title="蜻蜓点水" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">蜻蜓点水</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">if you never try , you will lost forever.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://sqtds.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Activity生命周期" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/05/25/Activity生命周期/" class="article-date">
  <time datetime="2014-05-25T13:44:43.000Z" itemprop="datePublished">5月 25 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      理解Android Activity
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>每一个Activity都表示一个屏幕，应用程序会把它呈现给用户。应用程序越复杂，需要的屏幕可能越多。</p>
<p>典型情况下，这至少包括一个用来处理应用程序的主ui功能的主屏幕。这个主界面由许多fragment组成，并且通常由一组次要Activity支持。要在屏幕之间进行切换，就要启动一个新的Activity。</p>
<h2 id="Activity的生存周期">Activity的生存周期</h2><h2 id="1-activity栈">1.activity栈</h2><p>每一个Activity的状态是由它所在Activity栈中所处的位置所决定的，Activity栈是当前所有正在运行的Activity的后进先出的集合。当一个新的Activity启动时，它就变为Activity状态了，并被移动到栈顶。如果用户使用Back（返回）按钮返回到了刚才的Activity，或者前台Activity被关闭了，那么栈中的下一个Activity就会移动到栈顶，变为活动状态。<br><img src="/img/3-7.PNG" alt=""></p>
<h3 id="2-Activity的状态">2.Activity的状态</h3><p>随着Activity的创建和销毁，它们会按照上图从栈中进进出出。在这个过程中，它们经历了一下4中状态：</p>
<ul>
<li><p>活动状态<br>当一个Activity位于栈顶的时候，它是可见的，具有焦点的前台Activity,这时候它可以接收用户输入。Android将会不惜一切代价来保持它处于活动状态，并根据需要来销毁栈下面部分的Activity，以保证这个Activity拥有它所需要的资源。当另一个Activity变为活动状态的时候，这个Activity就被暂停。</p>
</li>
<li><p>暂停状态<br>在某些情况下，Activity是可见的，但是没有获得焦点，此时它就处于暂停状态。当一个透明的或者非全屏的Activity位于该Activity之前时，就会达到这个状态。当Activity被暂停的时候，它任然会被当做近视与活动状态的状态，但是它不能接受用户的输入事件。在极端情况下，Android会终止暂停的Activity，以方便为活动状态的Activity释放资源。当一个Activity变得完全不可见的时候，它就变为停止状态。</p>
</li>
<li><p>停止状态<br>当一个Activity不可见的时候，它就处于停止状态。此时，Activity仍然会停留在内存中，保存所有的状态信息，然而当系统的其他地方要求使用内存的时候，他们就会成为被终止的首要侯选对象。在一个Activity停止的时候，保存数据和当前的UI状态以及停止任何飞关键操作是很重要的。一旦一个Activity被退出或者关闭，它就会变为非活动状态。</p>
</li>
<li><p>非活动状态<br>当一个Activity被终止后，在启动之前它就处于非活动状态。处于非活动状态的Activity已经从Activity栈中删除了，因此，在他们可以被显示和使用之前，需要重新被启动。</p>
</li>
</ul>
<h3 id="3-理解Activity的生命周期">3.理解Activity的生命周期</h3><p><img src="/img/2012120122450787.png" alt=""></p>
<ul>
<li>完整生命周期</li>
</ul>
<p>Activity的完整生成周期是指对OnCreate方法的第一次调用和对OnDestroy方法的最后一次调用之间的时间范围。有时候还会发生一个Activity的进程被终止，却没有调用OoDestory方法的情况。</p>
<p>OnCreate方法来初始化Activity：填充用户界面，得到对Fragment的引用，分配对类变量的引用，将数据绑定到控件，并启动Service和定时器。</p>
<p>OnDestory方法来清理OnCreate方法创建的所有资源，并保证所有的外部连接都被关闭了。</p>
<ul>
<li>可见生存期</li>
</ul>
<p>一个Activity的可见生成期是指调用Onstart和Onstop之间的那段时间。在这个时间段中，Activity是对用户可见的，但是他们可能不具有焦点，或者她可能被部分遮挡了。</p>
<p>OnStop方法应该用来暂停或者停止动画，线程，传感器监听器，GPS查找，定时器，Service或者其他专门用于更新用户界面的进程。当UI不可见的时候它是没有意义的，因为这消耗了资源缺没起到实际的作用。</p>
<p>当UI再次可见的时候，可以使用OnStart或者OnRestart方法来恢复或者重启这些进程。OnRestart在除了对Onstart方法的第一次调用之外的所有方法之前被立即调用。</p>
<ul>
<li>活动生存期</li>
</ul>
<p>活动生存期是指OnResume及对应的OnPause之间的那段时间。</p>
<p>一个处于活动状态的Activity是在前台的，并且正在接受用户输入事件。一定要让OnPause和OnResume中的代码执行迅速，并且其中的代码尽可能的少，以保证在前台和后台之间进行切换的时候应用程序能够迅速响应。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://sqtds.github.io/2014/05/25/Activity生命周期/" data-id="ci835m15w004qvogoll4h4ej6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/06/02/linux环境变量加载顺序/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          linux环境变量的加载顺序
        
      </div>
    </a>
  
  
    <a href="/2014/05/25/intent/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Intent和Broadcast Receiver</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机原理/">计算机原理</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/antlr4/">antlr4</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aop/">aop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exception/">exception</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/groupby/">groupby</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/">idea</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/impala/">impala</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdbc/">jdbc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk/">jdk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mondrian/">mondrian</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oralce/">oralce</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plan/">plan</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tx/">tx</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/列式/">列式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串替换/">字符串替换</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储/">存储</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/源码/">源码</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境变量/">环境变量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机原理/">计算机原理</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/android/" style="font-size: 18px;">android</a><a href="/tags/antlr4/" style="font-size: 20px;">antlr4</a><a href="/tags/aop/" style="font-size: 10px;">aop</a><a href="/tags/exception/" style="font-size: 12px;">exception</a><a href="/tags/groupby/" style="font-size: 10px;">groupby</a><a href="/tags/hadoop/" style="font-size: 12px;">hadoop</a><a href="/tags/idea/" style="font-size: 10px;">idea</a><a href="/tags/impala/" style="font-size: 10px;">impala</a><a href="/tags/jdbc/" style="font-size: 10px;">jdbc</a><a href="/tags/jdk/" style="font-size: 10px;">jdk</a><a href="/tags/linux/" style="font-size: 14px;">linux</a><a href="/tags/mondrian/" style="font-size: 20px;">mondrian</a><a href="/tags/oralce/" style="font-size: 10px;">oralce</a><a href="/tags/plan/" style="font-size: 10px;">plan</a><a href="/tags/spring/" style="font-size: 16px;">spring</a><a href="/tags/tx/" style="font-size: 14px;">tx</a><a href="/tags/列式/" style="font-size: 10px;">列式</a><a href="/tags/字符串替换/" style="font-size: 10px;">字符串替换</a><a href="/tags/存储/" style="font-size: 10px;">存储</a><a href="/tags/源码/" style="font-size: 12px;">源码</a><a href="/tags/环境变量/" style="font-size: 10px;">环境变量</a><a href="/tags/计算机原理/" style="font-size: 10px;">计算机原理</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2015/04/">四月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2014/11/">十一月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2014/10/">十月 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2014/09/">九月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2014/08/">八月 2014</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2014/06/">六月 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/public/_posts/2014/05/">五月 2014</a><span class="archive-list-count">12</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/04/04/mondrian-source-code-9/">mondrian 源码解读（九）-聚集层</a>
          </li>
        
          <li>
            <a href="/2015/04/04/mondrian-source-code-8/">mondrian 源码解读（八）-计算结果</a>
          </li>
        
          <li>
            <a href="/2015/03/31/oracle-group-by/">Oracle rollup、cube、grouping sets</a>
          </li>
        
          <li>
            <a href="/2014/11/13/mondrian-ext-function执行机制/">mondrian 源码解读（番外篇）-MDX函数的执行过程详解</a>
          </li>
        
          <li>
            <a href="/2014/11/02/mondrian-source-code-7/">mondrian 源码解读（七）-读取member</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 sqtds<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>